{% extends "__layout_left_sidebar.html" %}

{% block sidebar_content %}
	{% include "_collection_nav.html" with collections=collections %}
{% endblock %}

{% block main_content %}
<div id="content">
    <div class="courseWrapper">
        <div class="courseHeader">
            <h2>Add course</h2>
        </div>
        <form action="{% url 'collectionCreate' %}" method="post">
            {% csrf_token %}
            <p>
                {{ collection_form.title.errors }}
                <label for="id_title">Title:</label>
                {{ collection_form.title }}
            </p>
            <p>
                {{ collection_form.card_template.errors }}
                <label for="id_card_template">Template:</label>
                {{ collection_form.card_template }}
            </p>
            <div id="cardTemplateContainer" data-fetch-url="{% url 'cardTemplatePreview' %}" style="border: 1px solid black; margin: 1em; padding: 1em;">
                Select a template
            </div>
            <input class="adminMenuBtn saveBtn" type="submit" value="Submit" />
            <a href="{% url 'index' %}" class="adminMenuBtn cancelBtn">Cancel</a>
        </form>
    </div>
</div>
{% endblock %}


{% block javascript %}
<script type="text/javascript">
require(['jquery', 'views/CardTemplatePreview'], function($, CardTemplatePreview) {
    $(document).ready(function() {
        var preview = new CardTemplatePreview({
            "previewEl": "#cardTemplateContainer",
            "selectEl": "#id_card_template",
        });
        preview.init();
    });
});
</script>
{% endblock %}



{% block NOT_USED %}
<!-- slider (start) -->
 <div class="slider" data-slider-type="templates">
         <ul class="templateDecks"><!-- templateDecks(start) -->
         <li class="deck"><!-- deck (start) -->
             <a class="template" href="#" id="temp1">
                     <h2>Template 1 Create</h2>
             </a>
         </li><!-- deck (end) -->
        
         <li class="deck"><!-- deck (start) -->
             <a class="template" href="#">
                     <h2>Template 2</h2>
             </a>
         </li><!-- deck (end) -->
        
         <li class="deck"><!-- deck (start) -->
             <a class="template" href="#">
                     <h2>Template 3</h2>
             </a>
         </li><!-- deck (end) -->
        
     </ul><!-- templateDecks (end) -->
 </div>
 <!-- slider (end) -->
</form>
 <!-- sliderNav (start) -->
 <div class="sliderNav">
     <ul class="sliderNavNextPrev">
         <li class="sliderPrev"><a href="javascript:sliders.templates[0].goToPrev()">&laquo; Prev</a></li>
         <li class="sliderNext"><a href="javascript:sliders.templates[0].goToNext()">Next &raquo;</a></li>
         <!--li><a href="javascript:sliders[0].respond()">.respond()</a></li-->
     </ul>
                     </div>
 <!-- sliderNav (end) -->
{% endblock %}
