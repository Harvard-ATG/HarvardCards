{% extends "base.html" %}

{% block content %}
<script src="{{ STATIC_URL }}js/collection/index.js"></script>

<div class="row-fluid">
	<nav class="span4 collection-sidenav">
		<ul class="nav nav-list affix collection-list">
			{% for collection in collections %}
			<li class="collection-list-item" data-id="{{ collection.id }}"><a href="#course-{{ collection.id }}">{{ collection.title }}<i class="icon-chevron-right pull-right"></i></a></li>
			{% endfor %}
			<li class="no-collections-item {% if collections %}hide{% endif %}"><a href="#">No Collections</a></li>
			<li>
				<ul class="unstyled inline">
					<li><button id="add_collection_button" class="btn">+</button></li>
					<li><button id="delete_collection_confirm_button" class="btn">-</button></li>
					<li><button class="btn">++</button></li>
					<li><button id="edit_collection_button" class="btn">E</button></li>
				</ul>
			</li>
		</ul>
		
		
		<div id="collectionDeleteModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="collectionDeleteModalLabel" aria-hidden="true">
		  <div class="modal-header">
		    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
		    <h3 id="collectionDeleteModalLabel">Confirm Delete</h3>
		  </div>
		  <div class="modal-body">
		    <p>Are you sure you want to delete this Course?</p>
		  </div>
		  <div class="modal-footer">
		    <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
		    <button id="delete_collection_button" class="btn btn-error">Delete Course</button>
		  </div>
		</div>
	</nav>
	
	<section class="span8 collection-decks-section">
		<ul class="unstyled">
			{% for collection in collections %}
			<li id="course-{{ collection.id }}">
				<div class="cds-top">
					<h5>{{ collection.title }}</h5>
					<em>{{ collection.description }}</em>
				</div>
				<div class="cds-bottom">
					<ul class="inline">
						<li class="new-deck-btn" data-collection_id={{collection.id}}>
							<div class="new-deck-btn-text ">+ Add new Deck</div>
						</li>
						{% for deck in collection.deck_set.all %}
						<li class="deck" data-deck_id={{deck.id}}>
							<div class="deck-text" data-deck_id={{deck.id}}>{{ deck.title }}</div>
							<div class="deck-controls hide">
								<span class="deck-review-btn">Review</span>
								<span class="deck-study-btn">Study</span>
							</div>
							<div class="deck-delete-btn hide">X</div>
						</li>
						{% endfor %}
					</ul>
				</div>
			</li>
			{% endfor %}
			<li class="no-collections-item {% if collections %}hide{% endif %}">
				<div class="cds-top">
					<h5>No Collections</h5>
				</div>
			</li>			
		</ul>
	</section>
</div>

{% endblock %}